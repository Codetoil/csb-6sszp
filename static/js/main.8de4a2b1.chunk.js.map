{"version":3,"sources":["RK4.js","State.js","App.js","index.js"],"names":["RK4","constructor","F","p5","tol","tol2","maximumIterations","RKNodes","RKMatrix","RKWeights","RKWweightsWeightedAverage","RKWeightsTruncationError","doContinue","absoluteMaximumReducer","previous","current","this","abs","weightedAverageIncrement","kIndex","kValues","JList","map","element","JListIndex","Array","fill","_v","kIndex2","dt","reduce","p","q","truncationError","length","weightedAverage","truncationErrorList","step","time","undefined","Error","numberSteps","index3","pow","log","errorDisplayed","console","error","JList1","index","State","m1","m2","mc","k","c","xmin","xmax","ymin","ymax","deltaMomentumx","deltaMomentumy","deltaPositionx","deltaPositiony","restart","background","positionx1","positiony1","positionx2","positiony2","momentumx1","momentumy1","momentumx2","momentumy2","s","simulator","clear","hamiltonian","x1","y1","x2","y2","px1","py1","px2","py2","t","sqrt","forcex1","forcey1","velocityx1","velocityy1","forcex2","forcey2","velocityx2","velocityy2","der","y","e","draw","mouseIsPressed","strokeWeight","line","width","height","point","text","tempThing","App","Component","setup","canvasParentRef","createCanvas","window","innerWidth","innerHeight","parent","frameRate","fr","simulationState","render","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"sKAAe,MAAMA,EAqBnBC,YAAYC,EAAGC,GAAwD,IAApDC,EAAmD,uDAA7C,KAAMC,EAAuC,uDAAhC,KAAMC,EAA0B,uDAAN,IAAM,KApBtEC,QAAU,CAAC,EAAG,EAAI,EAAG,EAAI,EAAG,EAAI,EAAG,EAAG,EAAI,GAoB4B,KAnBtEC,SAAW,CACT,GACA,CAAC,EAAI,GACL,CAAC,EAAI,GAAI,EAAI,GACb,CAAC,GAAK,KAAM,IAAM,IAAK,IAAM,IAC7B,EAAE,GAAK,GAAI,MAAQ,IAAS,GAAK,IACjC,CAAC,GAAK,KAAM,EAAI,GAAI,GAAK,GAAI,EAAI,GAAI,EAAI,MAa2B,KAXtEC,UAAY,CAAC,EAAI,EAAG,EAAG,GAAQ,GAAK,GAAI,EAAI,GAAI,GAWsB,KAVtEC,0BAA4B,CAAC,GAAK,IAAK,EAAG,IAAS,GAAK,IAAK,EAAI,GAAI,KAUC,KATtEC,yBAA2B,EAAE,EAAI,IAAK,EAAG,KAAU,GAAK,IAAI,IAAS,KASC,KALtEC,YAAa,EAKyD,KAQtEC,uBAAyB,CAACC,EAAUC,IAC3BC,KAAKb,GAAGc,IAAIF,GAAWC,KAAKb,GAAGc,IAAIH,GACtCE,KAAKb,GAAGc,IAAIF,GACZC,KAAKb,GAAGc,IAAIH,GAXoD,KAmBtEI,yBAA2B,CAACC,EAAQC,EAASC,IACpCA,EAAMC,KAAI,CAACC,EAASC,IAClBC,MAAMN,GACVO,KAAK,GACLJ,KAAI,CAACK,EAAIC,IAENR,EAAQQ,GAASJ,GACjBR,KAAKR,SAASW,GAAQS,GACtBZ,KAAKa,KAGRC,QAAO,CAACC,EAAGC,IAAMD,EAAIC,GAAGT,KA9BuC,KAiCtEU,gBAAkB,CAACd,EAAQC,EAASG,IAC3BE,MAAML,EAAQc,QAClBR,KAAK,GACLJ,KACC,CAACK,EAAIC,IACHR,EAAQQ,GAAST,GACjBH,KAAKL,yBAAyBiB,GAC9BZ,KAAKa,KAERC,QAAO,CAACC,EAAGC,IAAMD,EAAIC,GAAGT,EAAQJ,IA1CiC,KA4CtEgB,gBAAkB,CAAChB,EAAQC,EAASgB,EAAqBb,IAChDE,MAAML,EAAQc,QAClBR,KAAK,GACLJ,KACC,CAACK,EAAIC,IACHR,EAAQQ,GAAST,GACjBH,KAAKN,0BAA0BkB,GAC/BZ,KAAKa,KAERC,QAAO,CAACC,EAAGC,IAAMD,EAAIC,GAAGT,EAAQJ,GAAUiB,EAAoBjB,IArDG,KAwDtEkB,KAAO,CAACC,EAAMjB,KACZ,QAAakB,IAATD,QAAgCC,IAAVlB,EACxB,MAAM,IAAImB,MAAM,yBACX,QAAaD,IAATD,EACT,MAAM,IAAIE,MAAM,kBACX,QAAcD,IAAVlB,EACT,MAAM,IAAImB,MAAM,kBAElB,IAAIJ,EACAhB,EAEJJ,KAAKyB,YAAc,EACnB,EAAG,CACDrB,EAAU,GACVgB,EAAsB,IAAIX,MAAMJ,EAAMa,QAAQR,KAAK,GACnD,IAAK,IAAIP,EAAS,EAAGA,EAASH,KAAKT,QAAQ2B,OAAQf,IACjDC,EAAQD,GAAUH,KAAKd,EACrBc,KAAKE,yBAAyBC,EAAQC,EAASC,GAC/CiB,EAAOtB,KAAKa,GAAKb,KAAKT,QAAQY,IAEjB,IAAXA,IACFC,EAAQ,GAAKJ,KAAKd,EAAEmB,EAAOiB,EAAOtB,KAAKa,GAAKb,KAAKT,QAAQ,KAI7D,IAAK,IAAImC,EAAS,EAAGA,EAASrB,EAAMa,OAAQQ,IAC1CN,EAAoBM,GAAU1B,KAAKiB,gBACjCS,EACAtB,EACAgB,GAIJpB,KAAKa,IAAMb,KAAKb,GAAGwC,IACjB3B,KAAKZ,IACHY,KAAKb,GAAGc,IACNmB,EAAoBN,OAAOd,KAAKH,uBAAwB,IAE5D,KAEFG,KAAKyB,oBAELzB,KAAKb,GAAGc,IACND,KAAKb,GAAGyC,IAAI5B,KAAKZ,KACfY,KAAKb,GAAGyC,IACN5B,KAAKb,GAAGc,IACNmB,EAAoBN,OAAOd,KAAKH,uBAAwB,MAG5DG,KAAKX,MACTW,KAAKyB,YAAczB,KAAKV,mBAQ1B,GALAU,KAAK6B,eAAiBT,EAAoBN,OACxCd,KAAKH,uBACL,GAGEG,KAAKyB,aAAezB,KAAKV,kBAY3B,OAXAU,KAAKJ,YAAa,EAClBkC,QAAQC,MACN,sDACE/B,KAAKV,kBACL,gBACAU,KAAKb,GAAGc,IACND,KAAKb,GAAGyC,IAAI5B,KAAKZ,KAAOY,KAAKb,GAAGyC,IAAI5B,KAAK6B,iBAE3C,MACA7B,KAAKX,MAEF,CAACiC,EAAMjB,GAIhB,IADA,IAAI2B,EAAS3B,EACJ4B,EAAQ,EAAGA,EAAQD,EAAOd,OAAQe,IACzCD,EAAOC,GAASjC,KAAKmB,gBACnBc,EACA7B,EACAgB,EACAY,GAIJ,MAAO,CAACV,EAAOtB,KAAKa,GAAImB,IA1IxBhC,KAAKd,EAAIA,EACTc,KAAKb,GAAKA,EACVa,KAAKZ,IAAMA,EACXY,KAAKX,KAAOA,EACZW,KAAKV,kBAAoBA,GCxBd,MAAM4C,EA4BnBjD,YAAYE,GAAK,KAfjBgD,GAAK,EAeW,KAdhBC,GAAK,EAcW,KAbhBC,GAAK,IAaW,KAZhBC,GAAK,OAYW,KAXhBC,EAAI,EAWY,KAVhBC,MAAQ,EAUQ,KAThBC,KAAO,EASS,KARhBC,MAAQ,EAQQ,KAPhBC,KAAO,EAOS,KANhBC,eAAiB,KAMD,KALhBC,eAAiB,KAKD,KAJhBC,eAAiB,KAID,KAHhBC,eAAiB,KAGD,KAKhBC,QAAU,KACRhD,KAAKb,GAAG8D,WAAW,IAAK,IAAK,KAC7BjD,KAAKkD,WAAa,IAClBlD,KAAKmD,WAAa,EAClBnD,KAAKoD,WAAa,EAClBpD,KAAKqD,WAAa,EAClBrD,KAAKsD,WAAa,EAClBtD,KAAKuD,WAAa,GAClBvD,KAAKwD,WAAa,EAClBxD,KAAKyD,WAAa,IAClBzD,KAAK0D,EAAI,EACT1D,KAAK2D,UAAU9C,GAAK,MACpBb,KAAK2D,UAAU/D,YAAa,EAC5BkC,QAAQ8B,SAlBM,KAqBhBC,YAAc,CAACC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,IAE9CtE,KAAKsC,EAAItC,KAAKmC,GAAKnC,KAAKoC,GACvBpC,KAAKb,GAAGoF,KACNvE,KAAKb,GAAGwC,IAAI3B,KAAKb,GAAGc,IAAI6D,EAAKE,GAAK,GAChChE,KAAKb,GAAGwC,IAAI3B,KAAKb,GAAGc,IAAI8D,EAAKE,GAAK,IAEvCjE,KAAKsC,EAAItC,KAAKmC,GAAKnC,KAAKqC,GACvBrC,KAAKb,GAAGoF,KACNvE,KAAKb,GAAGwC,IAAI3B,KAAKb,GAAGc,IAAI6D,GAAK,GAAK9D,KAAKb,GAAGwC,IAAI3B,KAAKb,GAAGc,IAAI8D,GAAK,IAElE/D,KAAKsC,EAAItC,KAAKoC,GAAKpC,KAAKqC,GACvBrC,KAAKb,GAAGoF,KACNvE,KAAKb,GAAGwC,IAAI3B,KAAKb,GAAGc,IAAI+D,GAAK,GAAKhE,KAAKb,GAAGwC,IAAI3B,KAAKb,GAAGc,IAAIgE,GAAK,IAE5D,EAAIjE,KAAKmC,GAAhB,IAAuBnC,KAAKb,GAAGwC,IAAIuC,EAAK,GAAKlE,KAAKb,GAAGwC,IAAIwC,EAAK,IACvD,EAAInE,KAAKoC,GAAhB,IAAuBpC,KAAKb,GAAGwC,IAAIyC,EAAK,GAAKpE,KAAKb,GAAGwC,IAAI0C,EAAK,IArClD,KAyChBG,QAAU,CAACV,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,MAGzCtE,KAAK6D,YACHC,EAAK9D,KAAK8C,eACViB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEFtE,KAAK6D,YACHC,EAAK9D,KAAK8C,eACViB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,KAGD,EAAItE,KAAK8C,gBACZ9C,KAAKuC,EAAI2B,EApEG,KAwEhBO,QAAU,CAACX,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,MAGzCtE,KAAK6D,YACHC,EACAC,EAAK/D,KAAK+C,eACViB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEFtE,KAAK6D,YACHC,EACAC,EAAK/D,KAAK+C,eACViB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,KAGD,EAAItE,KAAK+C,gBACZ/C,KAAKuC,EAAI4B,EAnGG,KAuGhBO,WAAa,CAACZ,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,KAE7CtE,KAAK6D,YACJC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMnE,KAAK4C,eACXwB,EACAC,EACAC,GAEAtE,KAAK6D,YACHC,EACAC,EACAC,EACAC,EACAC,EAAMlE,KAAK4C,eACXuB,EACAC,EACAC,EACAC,KAEH,EAAItE,KAAK4C,gBA/HE,KAmIhB+B,WAAa,CAACb,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,KAE7CtE,KAAK6D,YACJC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMnE,KAAK6C,eACXuB,EACAC,EACAC,GAEAtE,KAAK6D,YACHC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMnE,KAAK6C,eACXuB,EACAC,EACAC,KAEH,EAAItE,KAAK6C,gBA3JE,KA+JhB+B,QAAU,CAACd,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,MAGzCtE,KAAK6D,YACHC,EACAC,EACAC,EAAKhE,KAAK8C,eACVmB,EACAC,EACAC,EACAC,EACAC,EACAC,GAEFtE,KAAK6D,YACHC,EACAC,EACAC,EAAKhE,KAAK8C,eACVmB,EACAC,EACAC,EACAC,EACAC,EACAC,KAGD,EAAItE,KAAK8C,gBACZ9C,KAAKuC,EAAI6B,EA1LG,KA8LhBS,QAAU,CAACf,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,MAGzCtE,KAAK6D,YACHC,EACAC,EACAC,EACAC,EAAKjE,KAAK+C,eACVmB,EACAC,EACAC,EACAC,EACAC,GAEFtE,KAAK6D,YACHC,EACAC,EACAC,EACAC,EAAKjE,KAAK+C,eACVmB,EACAC,EACAC,EACAC,EACAC,KAGD,EAAItE,KAAK+C,gBACZ/C,KAAKuC,EAAI8B,EAzNG,KA4NhBS,WAAa,CAAChB,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,KAE7CtE,KAAK6D,YACJC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMpE,KAAK4C,eACXyB,EACAC,GAEAtE,KAAK6D,YACHC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMpE,KAAK4C,eACXyB,EACAC,KAEH,EAAItE,KAAK4C,gBApPE,KAwPhBmC,WAAa,CAACjB,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,KAE7CtE,KAAK6D,YACJC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMrE,KAAK6C,eACXyB,GAEAtE,KAAK6D,YACHC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAMrE,KAAK6C,eACXyB,KAEH,EAAItE,KAAK6C,gBAhRE,KAoRhBmC,IAAM,CAACC,EAAGX,IACD,CACLtE,KAAK0E,WACL1E,KAAK2E,WACL3E,KAAK8E,WACL9E,KAAK+E,WACL/E,KAAKwE,QACLxE,KAAKyE,QACLzE,KAAK4E,QACL5E,KAAK6E,SACLvE,KAAI,SAAU4E,GACd,OAAOA,EAAED,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIX,MA/R7C,KAmShBa,KAAO,KAIL,GAHInF,KAAKb,GAAGiG,gBACVpF,KAAKgD,UAEHhD,KAAK2D,UAAU/D,WAAY,CAC7BI,KAAKb,GAAGkG,aAAa,GACrBrF,KAAKb,GAAG8D,WAAW,IAAK,IAAK,KAC7BjD,KAAKb,GAAGmG,KACNtF,KAAKb,GAAGmB,IAAIN,KAAKwC,KAAMxC,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OACxDvF,KAAKb,GAAGmB,IAAI,EAAGN,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,GACrDxF,KAAKb,GAAGmB,IAAIN,KAAKyC,KAAMzC,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OACxDvF,KAAKb,GAAGmB,IAAI,EAAGN,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,IAEvDxF,KAAKb,GAAGmG,KACNtF,KAAKb,GAAGmB,IAAI,EAAGN,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OAChDvF,KAAKb,GAAGmB,IAAIN,KAAK0C,KAAM1C,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,GAC7DxF,KAAKb,GAAGmB,IAAI,EAAGN,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OAChDvF,KAAKb,GAAGmB,IAAIN,KAAK2C,KAAM3C,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,IAE/DxF,KAAKb,GAAGkG,aAAa,IACrBrF,KAAKb,GAAGsG,MACNzF,KAAKb,GAAGmB,IAAI,EAAGN,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OAChDvF,KAAKb,GAAGmB,IAAI,EAAGN,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,IAEvDxF,KAAKb,GAAGkG,aAAa,GACrBrF,KAAKb,GAAGsG,MACNzF,KAAKb,GAAGmB,IAAIN,KAAKkD,WAAYlD,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OAC9DvF,KAAKb,GAAGmB,IAAIN,KAAKmD,WAAYnD,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,IAErExF,KAAKb,GAAGsG,MACNzF,KAAKb,GAAGmB,IAAIN,KAAKoD,WAAYpD,KAAKwC,KAAMxC,KAAKyC,KAAM,EAAGzC,KAAKb,GAAGoG,OAC9DvF,KAAKb,GAAGmB,IAAIN,KAAKqD,WAAYrD,KAAK0C,KAAM1C,KAAK2C,KAAM3C,KAAKb,GAAGqG,OAAQ,IAErExF,KAAKb,GAAGkG,aAAa,GAIrBrF,KAAKb,GAAGuG,KAAK,MAAQ1F,KAAK0D,EAAG,GAAI,IACjC1D,KAAKb,GAAGuG,KAAK,OAAS1F,KAAK2D,UAAU9C,GAAI,GAAI,IAC7Cb,KAAKb,GAAGuG,KAAK,MAAQ1F,KAAK2D,UAAUlC,YAAa,GAAI,IACrDzB,KAAKb,GAAGuG,KAAK,QAAU1F,KAAK2D,UAAU9B,eAAgB,GAAI,IAC1D7B,KAAKb,GAAGuG,KACN,MACE1F,KAAK6D,YACH7D,KAAKkD,WACLlD,KAAKmD,WACLnD,KAAKoD,WACLpD,KAAKqD,WACLrD,KAAKsD,WACLtD,KAAKuD,WACLvD,KAAKwD,WACLxD,KAAKyD,WACLzD,KAAK0D,GAET,GACA,IAEF1D,KAAKb,GAAGuB,KAAK,EAAG,EAAG,GACnB,IAAIiF,EAAY3F,KAAK2D,UAAUtC,KAAKrB,KAAK0D,EAAG,CAC1C1D,KAAKkD,WACLlD,KAAKmD,WACLnD,KAAKoD,WACLpD,KAAKqD,WACLrD,KAAKsD,WACLtD,KAAKuD,WACLvD,KAAKwD,WACLxD,KAAKyD,aAEPzD,KAAK0D,EAAIiC,EAAU,GACnB3F,KAAKkD,WAAayC,EAAU,GAAG,GAC/B3F,KAAKmD,WAAawC,EAAU,GAAG,GAC/B3F,KAAKoD,WAAauC,EAAU,GAAG,GAC/B3F,KAAKqD,WAAasC,EAAU,GAAG,GAC/B3F,KAAKsD,WAAaqC,EAAU,GAAG,GAC/B3F,KAAKuD,WAAaoC,EAAU,GAAG,GAC/B3F,KAAKwD,WAAamC,EAAU,GAAG,GAC/B3F,KAAKyD,WAAakC,EAAU,GAAG,KA9WjC3F,KAAKb,GAAKA,EACVa,KAAK2D,UAAY,IAAI3E,EAAIgB,KAAKgF,IAAK7F,EAAI,UAAMoC,EAAW,M,WC5B7C,MAAMqE,UAAYC,YAAW,cAAD,yBAGzCC,MAAQ,CAAC3G,EAAI4G,KACX5G,EAAG6G,aAAaC,OAAOC,WAAYD,OAAOE,aAAaC,OACrDL,GAEF5G,EAAGkH,UAAUrG,KAAKsG,IAElBnH,EAAGkG,aAAa,GAChBrF,KAAKuG,gBAAkB,IAAIrE,EAAM/C,GACjCa,KAAKuG,gBAAgBvD,WAXkB,KAczCmC,KAAO,KACLnF,KAAKuG,gBAAgBpB,QAGvBqB,SACE,OAAO,cAAC,IAAD,CAAQV,MAAO9F,KAAK8F,MAAOX,KAAMnF,KAAKmF,QClBjD,MAAMsB,EAAcC,SAASC,eAAe,QAC5CC,IAASJ,OACP,cAAC,IAAMK,WAAP,UACE,cAAC,EAAD,MAEFJ,K","file":"static/js/main.8de4a2b1.chunk.js","sourcesContent":["export default class RK4 {\n  RKNodes = [0, 2 / 9, 1 / 3, 3 / 4, 1, 5 / 6];\n  RKMatrix = [\n    [],\n    [2 / 9],\n    [1 / 12, 1 / 4],\n    [69 / 128, -243 / 128, 135 / 64],\n    [-17 / 12, 27 / 4, -27 / 5, 16 / 15],\n    [65 / 432, -5 / 16, 13 / 16, 4 / 27, 5 / 144],\n  ];\n  RKWeights = [1 / 9, 0, 2 / 20, 16 / 45, 1 / 12, 0];\n  RKWweightsWeightedAverage = [47 / 450, 0, 12 / 25, 32 / 225, 1 / 30, 6 / 25];\n  RKWeightsTruncationError = [-1 / 150, 0, 3 / 100, -16 / 75, -1 / 20, 6 / 25];\n  maximumIterations;\n  tol;\n  tol2;\n  doContinue = true;\n  F;\n  p5;\n  dt;\n\n  constructor(F, p5, tol = 1e-8, tol2 = 1e-3, maximumIterations = 1000) {\n    this.F = F;\n    this.p5 = p5;\n    this.tol = tol;\n    this.tol2 = tol2;\n    this.maximumIterations = maximumIterations;\n  }\n\n  absoluteMaximumReducer = (previous, current) => {\n    return this.p5.abs(current) > this.p5.abs(previous)\n      ? this.p5.abs(current)\n      : this.p5.abs(previous);\n  };\n  /**\n   *\n   * @param {number} kIndex\n   * @param {number[][]} kValues\n   * @param {number[]} JList\n   */\n  weightedAverageIncrement = (kIndex, kValues, JList) => {\n    return JList.map((element, JListIndex) => {\n      return Array(kIndex)\n        .fill(0)\n        .map((_v, kIndex2) => {\n          return (\n            kValues[kIndex2][JListIndex] *\n            this.RKMatrix[kIndex][kIndex2] *\n            this.dt\n          );\n        })\n        .reduce((p, q) => p + q, element);\n    });\n  };\n  truncationError = (kIndex, kValues, element) => {\n    return Array(kValues.length)\n      .fill(0)\n      .map(\n        (_v, kIndex2) =>\n          kValues[kIndex2][kIndex] *\n          this.RKWeightsTruncationError[kIndex2] *\n          this.dt\n      )\n      .reduce((p, q) => p + q, element[kIndex]);\n  };\n  weightedAverage = (kIndex, kValues, truncationErrorList, element) => {\n    return Array(kValues.length)\n      .fill(0)\n      .map(\n        (_v, kIndex2) =>\n          kValues[kIndex2][kIndex] *\n          this.RKWweightsWeightedAverage[kIndex2] *\n          this.dt\n      )\n      .reduce((p, q) => p + q, element[kIndex] + truncationErrorList[kIndex]);\n  };\n\n  step = (time, JList) => {\n    if (time === undefined && JList === undefined) {\n      throw new Error(\"t and J are undefined\");\n    } else if (time === undefined) {\n      throw new Error(\"t is undefined\");\n    } else if (JList === undefined) {\n      throw new Error(\"J is undefined\");\n    }\n    var truncationErrorList;\n    var kValues;\n\n    this.numberSteps = 0;\n    do {\n      kValues = [];\n      truncationErrorList = new Array(JList.length).fill(0);\n      for (var kIndex = 0; kIndex < this.RKNodes.length; kIndex++) {\n        kValues[kIndex] = this.F(\n          this.weightedAverageIncrement(kIndex, kValues, JList),\n          time + this.dt * this.RKNodes[kIndex]\n        );\n        if (kIndex === 0) {\n          kValues[0] = this.F(JList, time + this.dt * this.RKNodes[0]);\n        }\n      }\n\n      for (var index3 = 0; index3 < JList.length; index3++) {\n        truncationErrorList[index3] = this.truncationError(\n          index3,\n          kValues,\n          truncationErrorList\n        );\n      }\n\n      this.dt *= this.p5.pow(\n        this.tol /\n          this.p5.abs(\n            truncationErrorList.reduce(this.absoluteMaximumReducer, 0)\n          ),\n        0.05\n      );\n      this.numberSteps++;\n    } while (\n      this.p5.abs(\n        this.p5.log(this.tol) -\n          this.p5.log(\n            this.p5.abs(\n              truncationErrorList.reduce(this.absoluteMaximumReducer, 0)\n            )\n          )\n      ) > this.tol2 &&\n      this.numberSteps < this.maximumIterations\n    );\n\n    this.errorDisplayed = truncationErrorList.reduce(\n      this.absoluteMaximumReducer,\n      0\n    );\n\n    if (this.numberSteps >= this.maximumIterations) {\n      this.doContinue = false;\n      console.error(\n        \"Can't reduce tolerance of error below tolerance in \" +\n          this.maximumIterations +\n          \" iterations: \" +\n          this.p5.abs(\n            this.p5.log(this.tol) - this.p5.log(this.errorDisplayed)\n          ) +\n          \" > \" +\n          this.tol2\n      );\n      return [time, JList];\n    }\n\n    var JList1 = JList;\n    for (var index = 0; index < JList1.length; index++) {\n      JList1[index] = this.weightedAverage(\n        index,\n        kValues,\n        truncationErrorList,\n        JList1\n      );\n    }\n\n    return [time + this.dt, JList1];\n  };\n}\n","import RK4 from \"./RK4.js\";\n\nexport default class State {\n  p5;\n\n  simulator;\n  momentumx1;\n  momentumy1;\n  positionx1;\n  positiony1;\n  momentumx2;\n  momentumy2;\n  positionx2;\n  positiony2;\n  s;\n  m1 = 1;\n  m2 = 1;\n  mc = 1000;\n  k = -13.317;\n  c = 0;\n  xmin = -2;\n  xmax = 2;\n  ymin = -2;\n  ymax = 2;\n  deltaMomentumx = 0.0001;\n  deltaMomentumy = 0.0001;\n  deltaPositionx = 0.0001;\n  deltaPositiony = 0.0001;\n  der;\n\n  constructor(p5) {\n    this.p5 = p5;\n    this.simulator = new RK4(this.der, p5, 1e-6, undefined, 1e5);\n  }\n\n  restart = () => {\n    this.p5.background(255, 255, 255);\n    this.positionx1 = 1.5;\n    this.positiony1 = 0;\n    this.positionx2 = 1;\n    this.positiony2 = 0;\n    this.momentumx1 = 0;\n    this.momentumy1 = 70;\n    this.momentumx2 = 0;\n    this.momentumy2 = 100;\n    this.s = 0;\n    this.simulator.dt = 1e-10;\n    this.simulator.doContinue = true;\n    console.clear();\n  };\n\n  hamiltonian = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      (this.k * this.m1 * this.m2) /\n        this.p5.sqrt(\n          this.p5.pow(this.p5.abs(x1 - x2), 2) +\n            this.p5.pow(this.p5.abs(y1 - y2), 2)\n        ) +\n      (this.k * this.m1 * this.mc) /\n        this.p5.sqrt(\n          this.p5.pow(this.p5.abs(x1), 2) + this.p5.pow(this.p5.abs(y1), 2)\n        ) +\n      (this.k * this.m2 * this.mc) /\n        this.p5.sqrt(\n          this.p5.pow(this.p5.abs(x2), 2) + this.p5.pow(this.p5.abs(y2), 2)\n        ) +\n      0.5 * (1 / this.m1) * (this.p5.pow(px1, 2) + this.p5.pow(py1, 2)) +\n      0.5 * (1 / this.m2) * (this.p5.pow(px2, 2) + this.p5.pow(py2, 2))\n    );\n  };\n\n  forcex1 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      -(\n        this.hamiltonian(\n          x1 + this.deltaPositionx,\n          y1,\n          x2,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        ) -\n        this.hamiltonian(\n          x1 - this.deltaPositionx,\n          y1,\n          x2,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        )\n      ) /\n        (2 * this.deltaPositionx) -\n      this.c * px1\n    );\n  };\n\n  forcey1 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      -(\n        this.hamiltonian(\n          x1,\n          y1 + this.deltaPositiony,\n          x2,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        ) -\n        this.hamiltonian(\n          x1,\n          y1 - this.deltaPositiony,\n          x2,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        )\n      ) /\n        (2 * this.deltaPositiony) -\n      this.c * py1\n    );\n  };\n\n  velocityx1 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      (this.hamiltonian(\n        x1,\n        y1,\n        x2,\n        y2,\n        px1,\n        py1 + this.deltaMomentumx,\n        px2,\n        py2,\n        t\n      ) -\n        this.hamiltonian(\n          x1,\n          y1,\n          x2,\n          y2,\n          px1 - this.deltaMomentumx,\n          py1,\n          px2,\n          py2,\n          t\n        )) /\n      (2 * this.deltaMomentumx)\n    );\n  };\n\n  velocityy1 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      (this.hamiltonian(\n        x1,\n        y1,\n        x2,\n        y2,\n        px1,\n        py1 + this.deltaMomentumy,\n        px2,\n        py2,\n        t\n      ) -\n        this.hamiltonian(\n          x1,\n          y1,\n          x2,\n          y2,\n          px1,\n          py1 - this.deltaMomentumy,\n          px2,\n          py2,\n          t\n        )) /\n      (2 * this.deltaMomentumy)\n    );\n  };\n\n  forcex2 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      -(\n        this.hamiltonian(\n          x1,\n          y1,\n          x2 + this.deltaPositionx,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        ) -\n        this.hamiltonian(\n          x1,\n          y1,\n          x2 - this.deltaPositionx,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        )\n      ) /\n        (2 * this.deltaPositionx) -\n      this.c * px2\n    );\n  };\n\n  forcey2 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      -(\n        this.hamiltonian(\n          x1,\n          y1,\n          x2,\n          y2 + this.deltaPositiony,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        ) -\n        this.hamiltonian(\n          x1,\n          y1,\n          x2,\n          y2 - this.deltaPositiony,\n          px1,\n          py1,\n          px2,\n          py2,\n          t\n        )\n      ) /\n        (2 * this.deltaPositiony) -\n      this.c * py2\n    );\n  };\n  velocityx2 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      (this.hamiltonian(\n        x1,\n        y1,\n        x2,\n        y2,\n        px1,\n        py1,\n        px2 + this.deltaMomentumx,\n        py2,\n        t\n      ) -\n        this.hamiltonian(\n          x1,\n          y1,\n          x2,\n          y2,\n          px1,\n          py1,\n          px2 - this.deltaMomentumx,\n          py2,\n          t\n        )) /\n      (2 * this.deltaMomentumx)\n    );\n  };\n\n  velocityy2 = (x1, y1, x2, y2, px1, py1, px2, py2, t) => {\n    return (\n      (this.hamiltonian(\n        x1,\n        y1,\n        x2,\n        y2,\n        px1,\n        py1,\n        px2,\n        py2 + this.deltaMomentumy,\n        t\n      ) -\n        this.hamiltonian(\n          x1,\n          y1,\n          x2,\n          y2,\n          px1,\n          py1,\n          px2,\n          py2 - this.deltaMomentumy,\n          t\n        )) /\n      (2 * this.deltaMomentumy)\n    );\n  };\n\n  der = (y, t) => {\n    return [\n      this.velocityx1,\n      this.velocityy1,\n      this.velocityx2,\n      this.velocityy2,\n      this.forcex1,\n      this.forcey1,\n      this.forcex2,\n      this.forcey2,\n    ].map(function (e) {\n      return e(y[0], y[1], y[2], y[3], y[4], y[5], y[6], y[7], t);\n    });\n  };\n\n  draw = () => {\n    if (this.p5.mouseIsPressed) {\n      this.restart();\n    }\n    if (this.simulator.doContinue) {\n      this.p5.strokeWeight(2);\n      this.p5.background(255, 255, 255);\n      this.p5.line(\n        this.p5.map(this.xmin, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(0, this.ymin, this.ymax, this.p5.height, 0),\n        this.p5.map(this.xmax, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(0, this.ymin, this.ymax, this.p5.height, 0)\n      );\n      this.p5.line(\n        this.p5.map(0, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(this.ymin, this.ymin, this.ymax, this.p5.height, 0),\n        this.p5.map(0, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(this.ymax, this.ymin, this.ymax, this.p5.height, 0)\n      );\n      this.p5.strokeWeight(10);\n      this.p5.point(\n        this.p5.map(0, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(0, this.ymin, this.ymax, this.p5.height, 0)\n      );\n      this.p5.strokeWeight(5);\n      this.p5.point(\n        this.p5.map(this.positionx1, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(this.positiony1, this.ymin, this.ymax, this.p5.height, 0)\n      );\n      this.p5.point(\n        this.p5.map(this.positionx2, this.xmin, this.xmax, 0, this.p5.width),\n        this.p5.map(this.positiony2, this.ymin, this.ymax, this.p5.height, 0)\n      );\n      this.p5.strokeWeight(1);\n      //line(map(positionx1, -10, 10, 0, width), map(positiony1, -10, 10, height, 0), map(positionx2, -10, 10, 0, width), map(positiony2, -10, 10, height, 0));\n      //line(map(positionx1, -10, 10, 0, width), map(positiony1, -10, 10, height, 0), map(0, -10, 10, 0, width), map(0, -10, 10, height, 0));\n      //line(map(0, -10, 10, 0, width), map(0, -10, 10, height, 0), map(positionx2, -10, 10, 0, width), map(positiony2, -10, 10, height, 0));\n      this.p5.text(\"t: \" + this.s, 10, 10);\n      this.p5.text(\"dt: \" + this.simulator.dt, 10, 20);\n      this.p5.text(\"n: \" + this.simulator.numberSteps, 10, 30);\n      this.p5.text(\"err: \" + this.simulator.errorDisplayed, 10, 40);\n      this.p5.text(\n        \"H: \" +\n          this.hamiltonian(\n            this.positionx1,\n            this.positiony1,\n            this.positionx2,\n            this.positiony2,\n            this.momentumx1,\n            this.momentumy1,\n            this.momentumx2,\n            this.momentumy2,\n            this.s\n          ),\n        10,\n        50\n      );\n      this.p5.fill(0, 0, 0);\n      let tempThing = this.simulator.step(this.s, [\n        this.positionx1,\n        this.positiony1,\n        this.positionx2,\n        this.positiony2,\n        this.momentumx1,\n        this.momentumy1,\n        this.momentumx2,\n        this.momentumy2,\n      ]);\n      this.s = tempThing[0];\n      this.positionx1 = tempThing[1][0];\n      this.positiony1 = tempThing[1][1];\n      this.positionx2 = tempThing[1][2];\n      this.positiony2 = tempThing[1][3];\n      this.momentumx1 = tempThing[1][4];\n      this.momentumy1 = tempThing[1][5];\n      this.momentumx2 = tempThing[1][6];\n      this.momentumy2 = tempThing[1][7];\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport Sketch from \"react-p5\";\nimport State from \"./State.js\";\n\nexport default class App extends Component {\n  simulationState;\n\n  setup = (p5, canvasParentRef) => {\n    p5.createCanvas(window.innerWidth, window.innerHeight).parent(\n      canvasParentRef\n    );\n    p5.frameRate(this.fr);\n    // use parent to render canvas in this ref (without that p5 render this canvas outside your component)\n    p5.strokeWeight(5);\n    this.simulationState = new State(p5);\n    this.simulationState.restart();\n  };\n\n  draw = () => {\n    this.simulationState.draw();\n  };\n\n  render() {\n    return <Sketch setup={this.setup} draw={this.draw} />;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}